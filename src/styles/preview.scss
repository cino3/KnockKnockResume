/* ========================================
   Preview Styles
   从 Preview.vue (350-455行) 迁移
   ======================================== */

/* ================= 预览样式 ================= */
.preview-container {
  position: relative;
  width: 100%;
  height: 100%;
  background: #F2F0EB;
  overflow: auto;
}

.resume-pages-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  padding: 40px 0;
  width: 100%;
}

.resume-paper {
  width: 794px;
  height: 1123px;
  background: white;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  margin: 0;
  box-sizing: border-box;
  text-align: left;
}

/* 测量容器：永远隐藏 */
.measure-container {
  position: absolute;
  top: 0;
  left: 0;
  visibility: hidden;
  z-index: -100;
  height: auto !important;
  min-height: 1123px;
  padding: 36px 47px 57px 47px;
}

/* 打印专用容器：屏幕隐藏 */
.print-only-container {
  display: none;
  height: auto;
  min-height: 1123px;
  padding: 36px 47px 57px 47px;
  box-sizing: border-box;
  background: white;
}

/* 屏幕预览页面 */
.screen-page {
  position: relative;
  overflow: hidden;
}

.page-content-wrapper {
  width: 100%;
  height: 100%;
  padding: 36px 47px 57px 47px;
  box-sizing: border-box;
}

.page-number {
  position: absolute;
  bottom: 10px;
  right: 20px;
  font-size: 12px;
  color: #999;
  pointer-events: none;
}

/* ================= 打印样式 (使用打印专用容器) ================= */
@media print {
  /* 设置打印页边距：0，由容器 padding 提供 */
  @page {
    margin: 0;
    size: A4;
  }

  /* 隐藏不需要的元素 */
  .scale-control,
  .measure-container,
  .page-number,
  .print-only-container {
    display: none !important;
  }

  /* 重置容器样式 */
  .preview-container {
    background: white !important;
    position: static !important;
    width: 100% !important;
    height: auto !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: visible !important;
  }

  /* 核心修复：取消缩放，保留分页间距 */
  .resume-pages-container {
    /* 打印时必须取消缩放，否则会继续按 0.74 比例去排版 */
    transform: none !important;
    zoom: 1 !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    display: block !important;
    gap: 0 !important;
  }

  /* 屏幕预览页面：打印时显示，并确保每页单独成页 */
  .screen-page {
    display: block !important;
    page-break-after: always;
    break-after: page;
    box-shadow: none !important;
    margin: 0 !important;
  }

  /* 最后一页不分页，避免空白页 */
  .screen-page:last-child {
    page-break-after: auto;
    break-after: auto;
  }

  /* 确保背景色打印 */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
}
